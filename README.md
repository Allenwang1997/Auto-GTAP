# Auto-GTAP Read Me

Auto-GTAP project is a project to create a modern project format for CGE analysis. 

## Overview

In principle, a GTAP simulation can be run with a single command. However, the reality is that the 
process tends to be much more complicated. A typical GTAP-based research project will need to build 
balance a database, calculate shocks, and shuffle around various files at each stage, in addition
to running the simulation itself, all before finally exporting simulation results.

While the simulation is an automated process, these ambient task require require user interaction.
Auto-GTAP aims to provide a unified framework to lift these ambient tasks into the build toolchain.  
The goal is to increase the speed and replicability of GTAP-based analyses, by reducing the amount
of manual orchestration required historically.

## Why Auto-GTAP?

The Global Trade Analysis Project (GTAP) model is frequently used to estimate the effect of government policies on international trade.
However, the biggest advantage of the GTAP model is not the original model itself, but the ecosystem around it. 
The original version introduced in 1995 has been updated to version 7 in Corong et al. (2017) 
and contributors have developed other versions of it focusing on topics such as 
energy (GTAP-E), biofuels (GTAP-BIO), and land use (GTAP-AEZ).
Perhaps the greatest advantage of the GTAP model is data availability.
GTAP (the orginization behidn the GTAP model) also provides detailed and regularly updated databases of the world economy.
As a result of these tools and data, many non-GTAP models are built using the GTAP database (https://www.gtap.agecon.purdue.edu/about/data_models.asp).

As a result of the popularity of the GTAP model and database,
developers have  created a number of software tools for dealing with the 
anciliary issues that crop up in these research projects, especially with databases.
There are tools automating the process of data aggregation (GTPAg2), disaggregation (SplitCom), 
revision (GTAP-Adjust and AlterTax). 
The existence of these tools makes it easy for developers to customize the model for their specific project, 
as they do not have to reinvent the wheel.

However, some parts of a GTAP-based research have not been automated. 
In particular, there is no overarching framework controlling both the model and all these tools: 
the process of running the tools, specifiying their settings, 
and moving the output to the input of other tools must all be done manually.

Until now. Auto-GTAP provides a unified framework for running all parts of a GTAP-based research project.

## Components of Auto-GTAP

Files and directories in Auto-GTAP are organized into several groups based on their function. 
These groups are `InputFiles`, `WorkFiles`, `OutputFiles`, Python files, and configuration files.

The `InputFiles` directory and subdirectories contain the external inputs into the model. 
The raw data or code is taken directly from other sources with no modification whatsoever. 
This directory includes GTAP models, data, and external programs (like SplitCom). 
Currently, several standard models are included but the intent is for researchers to add new 
subdirectories containing the data and models they are using for their project. 
For example, if a developer is using GTAP-BIO to look at sugarcane trade, the might add an additional 
subdirectory for GTAP-BIO and one for sugarcane data. 

Note that the disaggregated GTAP database is not included here in the public version of the program, as that data is licensed. 
However, it is recommended that researchers with access to that database include it in their version.

The `OutputFiles` directory contains the final results of various simulations run by Auto-GTAP. 
This directory does not contain all results generation by the simulation. 
As part of the Auto-GTAP configuration file, researchers can configure which results they wish to export, 
and only those results are exported.

The `WorkFiles` directory contains temporary files used by Auto-GTAP as it is in the process of running the 
different parts of a GTAP project. 

It contains all files generated by the various programs and simulations run by Auto-GTAP and thus will 
have all results of the most recently run Auto-GTAP run (`OutputFiles` only has a subset of these results). 
All contents of this directory are deleted at the beginning of each Auto-GTAP run.

The python files preform the actual work of Auto-GTAP: moving files between directories, editing files, and executing programs. 
The python files are grouped into a number of different modules based on their purpose. The primary python file is `Main` 
and it calls all the other modules. 

These other modules all relate to a particular task in Auto-GTAP: 
deleting temporary files, moving files from `InputFiles` to `WorkFiles`, generating GEMSIM programs, running simulations, etc.

The final component of Auto-GTAP is the configuration file. 
This file gives the specifics to the Python files about which steps to run, in which order, with which models and data, etc. 
The intent is to keep the Python files generic and put details relevant to particular model applications in the configuration file.

## References ##
Corong et al. 2017: https://jgea.org/resources/jgea/ojs/index.php/jgea/article/view/47
